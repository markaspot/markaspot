services:
  markaspot_nuxt.voting_api_controller:
    class: Drupal\markaspot_nuxt\Controller\VotingApiController
    arguments: ['@entity_type.manager']
  markaspot_nuxt.frontend_url:
    class: Drupal\markaspot_nuxt\Service\FrontendUrlService
    arguments: ['@config.factory']

  # Boolean helper for JSON form widget
  markaspot_nuxt.boolean_helper:
    class: Drupal\markaspot_nuxt\BooleanHelper

  # Override json_form.router to add boolean support
  json_form.router:
    class: Drupal\markaspot_nuxt\ExtendedFieldTypeRouter
    arguments:
      - '@json_form.string_helper'
      - '@json_form.object_helper'
      - '@json_form.array_helper'
      - '@json_form.integer_helper'
      - '@markaspot_nuxt.boolean_helper'

  # Override json_form.value_handler to add boolean support
  json_form.value_handler:
    class: Drupal\markaspot_nuxt\ExtendedValueHandler
