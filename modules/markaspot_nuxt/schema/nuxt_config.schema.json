{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://mark-a-spot.org/schemas/nuxt-config.json",
  "title": "Mark-a-Spot Nuxt Configuration",
  "description": "Jurisdiction-specific configuration for the Nuxt frontend",
  "type": "object",
  "properties": {
    "client": {
      "type": "object",
      "title": "Client Branding",
      "description": "Branding and identity settings",
      "properties": {
        "name": {
          "type": "string",
          "title": "Application Name",
          "description": "Full name shown in header and title",
          "minLength": 1,
          "maxLength": 100,
          "examples": ["Mängelmelder Bonn", "Sags uns Köln"]
        },
        "shortName": {
          "type": "string",
          "title": "Short Name",
          "description": "Abbreviated name for mobile/PWA",
          "maxLength": 20,
          "examples": ["Bonn", "Köln"]
        },
        "domain": {
          "type": "string",
          "title": "Domain",
          "description": "Primary domain for this jurisdiction",
          "format": "hostname",
          "examples": ["melder.bonn.de"]
        }
      },
      "required": ["name"]
    },
    "theme": {
      "type": "object",
      "title": "Theme",
      "description": "Colors and typography",
      "properties": {
        "primary": {
          "type": "string",
          "format": "color",
          "title": "Primary Color",
          "description": "Main brand color (buttons, links, accents). Use a Tailwind color name (blue, cyan, etc.) or a custom HEX value (#rrggbb).",
          "default": "blue"
        },
        "secondary": {
          "type": "string",
          "format": "color",
          "title": "Secondary Color",
          "description": "Accent color for secondary actions. Use a Tailwind color name (blue, cyan, etc.) or a custom HEX value (#rrggbb).",
          "default": "violet"
        },
        "neutral": {
          "type": "string",
          "format": "color-neutral",
          "title": "Neutral Color",
          "description": "Background and text colors. Use a neutral preset (slate, gray, zinc, neutral, stone) or a custom HEX value.",
          "default": "slate"
        },
        "fonts": {
          "type": "object",
          "title": "Typography",
          "description": "Font families for headings and body text",
          "properties": {
            "heading": {
              "type": "string",
              "title": "Heading Font",
              "description": "Font for headings (h1-h6)",
              "maxLength": 100,
              "examples": ["Inter", "Roboto", "Open Sans", "Montserrat"]
            },
            "body": {
              "type": "string",
              "title": "Body Font",
              "description": "Font for body text",
              "maxLength": 100,
              "examples": ["Inter", "Roboto", "Open Sans", "Source Sans Pro"]
            }
          }
        },
        "ui": {
          "type": "object",
          "title": "UI Theme Settings",
          "description": "Theme-level UI customizations",
          "properties": {
            "leftSidebar": {
              "type": "object",
              "title": "Left Sidebar",
              "properties": {
                "width": {
                  "type": "string",
                  "title": "Width",
                  "description": "Sidebar width on desktop",
                  "pattern": "^\\d+px$",
                  "default": "420px"
                }
              }
            }
          }
        }
      }
    },
    "features": {
      "type": "object",
      "title": "Feature Toggles",
      "description": "Enable or disable features for this jurisdiction",
      "properties": {
        "statistics": {
          "type": "boolean",
          "title": "Statistics Tab",
          "description": "Show statistics/analytics tab",
          "default": false
        },
        "photoReporting": {
          "type": "boolean",
          "title": "Photo Reporting",
          "description": "Enable photo-first reporting flow",
          "default": true
        },
        "dashboard": {
          "type": "boolean",
          "title": "Dashboard",
          "description": "Enable admin dashboard for staff",
          "default": false
        },
        "passwordless": {
          "type": "boolean",
          "title": "Passwordless Auth",
          "description": "Enable email-based login (requires Drupal module)",
          "default": false
        },
        "aiAnalysis": {
          "type": "boolean",
          "title": "AI Analysis",
          "description": "Enable AI-powered image analysis",
          "default": false
        },
        "feedback": {
          "type": "boolean",
          "title": "Feedback",
          "description": "Allow feedback on service provider responses",
          "default": true
        },
        "offline": {
          "type": "boolean",
          "title": "Offline Mode",
          "description": "Enable offline support with service worker caching",
          "default": false
        },
        "formFirst": {
          "type": "boolean",
          "title": "Form-First Mobile",
          "description": "Show form before map on mobile devices",
          "default": false
        },
        "emergency": {
          "type": "object",
          "title": "Emergency Mode",
          "description": "Emergency mode redirects to lite version",
          "properties": {
            "enabled": {
              "type": "boolean",
              "title": "Enable Emergency Mode",
              "description": "When true, app checks backend status and may redirect to /lite",
              "default": false
            }
          }
        },
        "funFacts": {
          "type": "object",
          "title": "Fun Facts",
          "description": "Display fun facts on success page",
          "properties": {
            "enabled": {
              "type": "boolean",
              "title": "Enable Fun Facts",
              "default": false
            }
          }
        },
        "search": {
          "type": "object",
          "title": "Search Configuration",
          "description": "Search feature settings",
          "properties": {
            "enabled": {
              "type": "boolean",
              "title": "Enable Search",
              "default": true
            },
            "mode": {
              "type": "string",
              "title": "Search Mode",
              "enum": ["fuzzy", "exact"],
              "default": "fuzzy"
            },
            "minLength": {
              "type": "integer",
              "title": "Minimum Query Length",
              "minimum": 1,
              "maximum": 10,
              "default": 2
            },
            "threshold": {
              "type": "number",
              "title": "Fuzzy Match Threshold",
              "description": "0 = exact match, 1 = match anything",
              "minimum": 0,
              "maximum": 1,
              "default": 0.3
            },
            "fields": {
              "type": "array",
              "title": "Searchable Fields",
              "items": {
                "type": "string"
              },
              "default": ["title", "description", "address"]
            }
          }
        },
        "boundaries": {
          "type": "object",
          "title": "Boundary Settings",
          "description": "Geographic boundary configuration",
          "properties": {
            "enabled": {
              "type": "boolean",
              "title": "Enable Boundaries",
              "default": true
            },
            "file": {
              "type": "string",
              "title": "Boundary File",
              "description": "GeoJSON filename for boundary validation"
            },
            "strictValidation": {
              "type": "boolean",
              "title": "Strict Validation",
              "description": "Reject reports outside boundary",
              "default": true
            },
            "showBoundaryOnMap": {
              "type": "boolean",
              "title": "Show Boundary on Map",
              "default": true
            }
          }
        },
        "privacyNotice": {
          "type": "object",
          "title": "Privacy Notice",
          "description": "Privacy notice configuration for forms",
          "properties": {
            "enabled": {
              "type": "boolean",
              "title": "Enable Privacy Notice",
              "default": true
            },
            "modal": {
              "type": "boolean",
              "title": "Use Modal",
              "description": "Show privacy text in modal instead of external link",
              "default": true
            },
            "nodeId": {
              "type": "integer",
              "title": "Privacy Page Node ID",
              "description": "Drupal node ID containing privacy text"
            }
          }
        },
        "analytics": {
          "type": "object",
          "title": "Analytics",
          "description": "Analytics and tracking configuration",
          "properties": {
            "matomo": {
              "type": "object",
              "title": "Matomo Analytics",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "title": "Enable Matomo",
                  "default": false
                },
                "mode": {
                  "type": "string",
                  "title": "Tracking Mode",
                  "enum": ["tracking", "tag-manager"],
                  "default": "tracking"
                },
                "siteId": {
                  "type": "string",
                  "title": "Site ID"
                },
                "trackerUrl": {
                  "type": "string",
                  "title": "Tracker URL",
                  "format": "uri"
                },
                "containerId": {
                  "type": "string",
                  "title": "Container ID (for Tag Manager)"
                },
                "containerUrl": {
                  "type": "string",
                  "title": "Container URL",
                  "format": "uri"
                }
              }
            }
          }
        },
        "classicReporting": {
          "type": "boolean",
          "title": "Classic Reporting",
          "description": "Enable classic (non-photo) reporting form",
          "default": true
        },
        "voting": {
          "type": "boolean",
          "title": "Voting",
          "description": "Enable voting on service requests",
          "default": false
        },
        "following": {
          "type": "boolean",
          "title": "Following",
          "description": "Allow users to follow service requests",
          "default": true
        },
        "objectId": {
          "type": "boolean",
          "title": "Object ID Field",
          "description": "Enable object ID input field on forms (deprecated: use conditionalFields instead)",
          "default": false
        },
        "party": {
          "type": "boolean",
          "title": "Party Field",
          "description": "Enable party selection field on forms (deprecated: use conditionalFields instead)",
          "default": false
        },
        "privacyBlur": {
          "type": "boolean",
          "title": "Privacy Blur",
          "description": "Blur faces and license plates in uploaded images",
          "default": false
        },
        "photoRequiredCategories": {
          "type": "array",
          "title": "Photo Required Categories",
          "description": "Category IDs that require photo upload",
          "items": { "type": "integer" },
          "default": []
        },
        "emailRequiredCategories": {
          "type": "array",
          "title": "Email Required Categories",
          "description": "Category IDs that require email address",
          "items": { "type": "integer" },
          "default": []
        },
        "objectIdCategories": {
          "type": "array",
          "title": "Object ID Categories",
          "description": "Category IDs that show the object ID field (deprecated: use conditionalFields instead)",
          "items": { "type": "integer" },
          "default": []
        },
        "competitionCategories": {
          "type": "array",
          "title": "Competition Categories",
          "description": "Category IDs for competition mode (deprecated: use conditionalFields instead)",
          "items": { "type": "integer" },
          "default": []
        },
        "partyCategories": {
          "type": "array",
          "title": "Party Categories",
          "description": "Category IDs that show the party selection field (deprecated: use conditionalFields instead)",
          "items": { "type": "string" },
          "default": []
        },
        "oktoberfestCategories": {
          "type": "array",
          "title": "Oktoberfest Categories",
          "description": "Category IDs for Oktoberfest-specific fields (deprecated: use conditionalFields instead)",
          "items": { "type": "string" },
          "default": []
        },
        "forms": {
          "type": "object",
          "title": "Form Settings (Feature-level)",
          "description": "Form behavior settings accessible via features.forms",
          "properties": {
            "allowParentCategorySelection": {
              "type": "boolean",
              "title": "Allow Parent Category Selection",
              "description": "Let users select parent categories in forms",
              "default": false
            }
          }
        },
        "conditionalFields": {
          "type": "object",
          "title": "Conditional Fields",
          "description": "Fields shown only when specific categories are selected. Keys must be Drupal field machine names on node.service_request.",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "categories": {
                "type": "array",
                "title": "Category IDs",
                "description": "Taxonomy term IDs (drupal_internal__tid) that trigger this field",
                "items": { "type": "integer" },
                "minItems": 1
              },
              "required": {
                "type": "boolean",
                "title": "Required",
                "description": "Whether the field is required when visible",
                "default": false
              },
              "component": {
                "type": "string",
                "title": "Component Override",
                "description": "Optional Vue component name to use instead of auto-detection"
              },
              "label": {
                "type": "string",
                "title": "Label Override",
                "description": "Override the default field label from Drupal"
              }
            },
            "required": ["categories"]
          },
          "propertyNames": {
            "pattern": "^field_[a-z0-9_]+$"
          },
          "default": {}
        }
      }
    },
    "ui": {
      "type": "object",
      "title": "UI Layout",
      "description": "Layout and UI customization",
      "properties": {
        "headerHeight": {
          "type": "string",
          "title": "Header Height",
          "description": "CSS value for header height",
          "pattern": "^(auto|\\d+px|\\d+rem)$",
          "default": "120px",
          "examples": ["auto", "100px", "80px"]
        },
        "logoHeight": {
          "type": "string",
          "title": "Logo Height",
          "description": "CSS value for logo height",
          "pattern": "^\\d+px$",
          "default": "100px"
        },
        "sidebar": {
          "type": "object",
          "title": "Sidebar Settings",
          "properties": {
            "width": {
              "type": "string",
              "title": "Width",
              "description": "Sidebar width on desktop",
              "pattern": "^\\d+px$",
              "default": "420px"
            },
            "enabled": {
              "type": "boolean",
              "title": "Enabled",
              "description": "Show sidebar on desktop",
              "default": true
            }
          }
        },
        "bottomSheet": {
          "type": "object",
          "title": "Bottom Sheet (Mobile)",
          "properties": {
            "position": {
              "type": "string",
              "title": "Initial Position",
              "enum": ["low", "medium", "high"],
              "default": "medium"
            },
            "minimumHeight": {
              "type": "integer",
              "title": "Minimum Height (px)",
              "minimum": 100,
              "maximum": 500,
              "default": 140
            },
            "showHandle": {
              "type": "boolean",
              "title": "Show Handle",
              "default": true
            }
          }
        }
      }
    },
    "media": {
      "type": "object",
      "title": "Media Settings",
      "description": "Photo upload configuration",
      "properties": {
        "maxFiles": {
          "type": "integer",
          "title": "Max Files",
          "description": "Maximum number of photos per report",
          "minimum": 1,
          "maximum": 10,
          "default": 3
        },
        "maxFileSize": {
          "type": "integer",
          "title": "Max File Size (MB)",
          "description": "Maximum file size in megabytes",
          "minimum": 1,
          "maximum": 50,
          "default": 20
        }
      }
    },
    "languages": {
      "type": "object",
      "title": "Language Settings",
      "description": "Select which bundled languages to enable. Labels come from i18n.",
      "properties": {
        "available": {
          "type": "array",
          "title": "Available Languages",
          "description": "Language codes to enable for this jurisdiction",
          "items": {
            "type": "string",
            "enum": ["de", "de-ls", "en", "fr", "es", "it", "pt", "nl", "tr", "ar", "uk", "pl"]
          },
          "default": ["de", "en"],
          "uniqueItems": true
        },
        "default": {
          "type": "string",
          "title": "Default Language",
          "enum": ["de", "de-ls", "en", "fr", "es", "it", "pt", "nl", "tr", "ar", "uk", "pl"],
          "default": "de"
        }
      }
    },
    "map": {
      "type": "object",
      "title": "Map Settings",
      "description": "Map behavior and controls",
      "properties": {
        "loadMarkersOnInit": {
          "type": "boolean",
          "title": "Load Markers on Init",
          "description": "Load markers when map first loads",
          "default": true
        },
        "enableBoundsFiltering": {
          "type": "boolean",
          "title": "Enable Bounds Filtering",
          "description": "Update markers when map bounds change",
          "default": true
        },
        "markers": {
          "type": "object",
          "title": "Marker Appearance",
          "description": "Configure individual marker styling",
          "properties": {
            "iconSize": {
              "type": "integer",
              "title": "Icon Size",
              "description": "Size of icons inside markers (px)",
              "minimum": 12,
              "maximum": 48,
              "default": 24
            },
            "strokeWidth": {
              "type": "integer",
              "title": "Border Width",
              "description": "Border width for individual markers (px)",
              "minimum": 0,
              "maximum": 10,
              "default": 2
            },
            "radius": {
              "type": "integer",
              "title": "Circle Radius",
              "description": "Radius of marker circles (px)",
              "minimum": 8,
              "maximum": 40,
              "default": 15
            }
          }
        },
        "clusters": {
          "type": "object",
          "title": "Cluster Appearance",
          "description": "Configure cluster circle styling",
          "properties": {
            "strokeWidth": {
              "type": "integer",
              "title": "Border Width",
              "description": "Border width for cluster circles (px)",
              "minimum": 0,
              "maximum": 20,
              "default": 4
            },
            "strokeOpacity": {
              "type": "number",
              "title": "Border Opacity",
              "description": "Border opacity (0-1)",
              "minimum": 0,
              "maximum": 1,
              "default": 0.6
            }
          }
        },
        "deferredMap": {
          "type": "object",
          "title": "Deferred Map Loading",
          "description": "Defer map loading on mobile for performance",
          "properties": {
            "enabled": {
              "type": "boolean",
              "title": "Enable Deferred Loading",
              "description": "Defer map loading on mobile for performance",
              "default": true
            },
            "preloadData": {
              "type": "boolean",
              "title": "Preload Data",
              "description": "Preload list data using city-wide bbox from boundary",
              "default": true
            },
            "limit": {
              "type": "integer",
              "title": "Preload Limit",
              "description": "Maximum items to preload",
              "minimum": 10,
              "maximum": 500,
              "default": 100
            }
          }
        },
        "layerVisibility": {
          "type": "object",
          "title": "Layer Visibility",
          "description": "Configure layer visibility based on zoom levels",
          "properties": {
            "heatmap": {
              "type": "object",
              "properties": {
                "minZoom": {
                  "type": "integer",
                  "default": 0
                },
                "maxZoom": {
                  "type": "integer",
                  "default": 11
                },
                "fadeOut": {
                  "type": "boolean",
                  "default": true
                }
              }
            },
            "clusters": {
              "type": "object",
              "properties": {
                "minZoom": {
                  "type": "integer",
                  "default": 10
                },
                "maxZoom": {
                  "type": "integer",
                  "default": 12
                }
              }
            },
            "markers": {
              "type": "object",
              "properties": {
                "minZoom": {
                  "type": "integer",
                  "default": 12
                }
              }
            }
          }
        },
        "controls": {
          "type": "object",
          "title": "Map Controls",
          "properties": {
            "zoom": {
              "type": "object",
              "title": "Zoom Control",
              "properties": {
                "enabled": {"type": "boolean", "title": "Enabled", "default": true},
                "position": {"type": "string", "title": "Position (Desktop)", "default": "centerRight"},
                "positionMobile": {"type": "string", "title": "Position (Mobile)", "default": "topLeft"},
                "weight": {"type": "integer", "title": "Sort Weight", "default": 40}
              }
            },
            "tilt": {
              "type": "object",
              "title": "Tilt Control (3D)",
              "properties": {
                "enabled": {"type": "boolean", "title": "Enabled", "default": false},
                "position": {"type": "string", "title": "Position (Desktop)", "default": "centerRight"},
                "positionMobile": {"type": "string", "title": "Position (Mobile)", "default": "topLeft"},
                "weight": {"type": "integer", "title": "Sort Weight", "default": 20},
                "options": {
                  "type": "object",
                  "title": "Tilt Options",
                  "properties": {
                    "angles": {
                      "type": "array",
                      "title": "Available Angles",
                      "items": {"type": "integer"},
                      "default": [0, 30, 60]
                    },
                    "defaultAngle": {"type": "integer", "title": "Default Angle", "default": 0},
                    "expandable": {"type": "boolean", "title": "Expandable", "default": true}
                  }
                }
              }
            },
            "theme": {
              "type": "object",
              "title": "Theme Toggle",
              "properties": {
                "enabled": {"type": "boolean", "title": "Enabled", "default": true},
                "position": {"type": "string", "title": "Position (Desktop)", "default": "centerRight"},
                "positionMobile": {"type": "string", "title": "Position (Mobile)", "default": "topLeft"},
                "weight": {"type": "integer", "title": "Sort Weight", "default": 30}
              }
            },
            "geolocation": {
              "type": "object",
              "title": "Geolocation Control",
              "properties": {
                "enabled": {"type": "boolean", "title": "Enabled", "default": false},
                "position": {"type": "string", "title": "Position (Desktop)", "default": "centerRight"},
                "positionMobile": {"type": "string", "title": "Position (Mobile)", "default": "topLeft"},
                "weight": {"type": "integer", "title": "Sort Weight", "default": 10}
              }
            },
            "heatmap": {
              "type": "object",
              "title": "Heatmap Toggle",
              "properties": {
                "enabled": {"type": "boolean", "title": "Enabled", "default": false},
                "initialState": {"type": "boolean", "title": "Initially Visible", "default": true},
                "position": {"type": "string", "title": "Position (Desktop)", "default": "centerRight"},
                "positionMobile": {"type": "string", "title": "Position (Mobile)", "default": "topLeft"},
                "weight": {"type": "integer", "title": "Sort Weight", "default": 60}
              }
            },
            "reports": {
              "type": "object",
              "title": "Reports Button",
              "properties": {
                "enabled": {"type": "boolean", "title": "Enabled", "default": true},
                "position": {"type": "string", "title": "Position", "default": "topRight"},
                "weight": {"type": "integer", "title": "Sort Weight", "default": 1}
              }
            },
            "attribution": {
              "type": "object",
              "title": "Attribution Control",
              "properties": {
                "enabled": {"type": "boolean", "title": "Enabled", "default": true},
                "position": {"type": "string", "title": "Position (Desktop)", "default": "bottomRight"},
                "positionMobile": {"type": "string", "title": "Position (Mobile)", "default": "topLeft"},
                "weight": {"type": "integer", "title": "Sort Weight", "default": 10}
              }
            }
          }
        },
        "wmsLayers": {
          "type": "array",
          "title": "WMS Overlay Layers",
          "description": "Configure WMS layers to display on the map (e.g., bike paths, trees, landmarks)",
          "items": {
            "type": "object",
            "required": ["id", "title", "layerName"],
            "properties": {
              "id": {
                "type": "string",
                "title": "Layer ID",
                "description": "Unique identifier for the layer",
                "pattern": "^[a-z0-9-]+$"
              },
              "title": {
                "type": "string",
                "title": "Display Title",
                "description": "Human-readable title shown in layer toggle"
              },
              "layerName": {
                "type": "string",
                "title": "WMS Layer Name",
                "description": "The WMS layer name from the GeoServer"
              },
              "enabled": {
                "type": "boolean",
                "title": "Enabled by Default",
                "description": "Show this layer when the map loads",
                "default": false
              },
              "opacity": {
                "type": "number",
                "title": "Opacity",
                "description": "Layer opacity (0-1)",
                "minimum": 0,
                "maximum": 1,
                "default": 0.7
              },
              "minZoom": {
                "type": "integer",
                "title": "Minimum Zoom",
                "description": "Minimum zoom level to show layer",
                "minimum": 0,
                "maximum": 22,
                "default": 10
              },
              "maxZoom": {
                "type": "integer",
                "title": "Maximum Zoom",
                "description": "Maximum zoom level to show layer",
                "minimum": 0,
                "maximum": 22,
                "default": 20
              }
            }
          },
          "default": []
        }
      }
    },
    "navigation": {
      "type": "object",
      "title": "Navigation Tabs",
      "description": "Configure visible tabs in the sidebar/bottom sheet",
      "properties": {
        "activeTab": {
          "type": "string",
          "title": "Default Active Tab",
          "enum": ["info", "list", "following", "stats"],
          "default": "info"
        },
        "tabs": {
          "type": "object",
          "title": "Tab Visibility",
          "properties": {
            "info": {
              "type": "boolean",
              "title": "Info Tab",
              "default": true
            },
            "list": {
              "type": "boolean",
              "title": "List Tab",
              "default": true
            },
            "following": {
              "type": "boolean",
              "title": "Following Tab",
              "default": true
            },
            "stats": {
              "type": "boolean",
              "title": "Stats Tab",
              "default": false
            }
          }
        }
      }
    },
    "filters": {
      "type": "object",
      "title": "Filter Settings",
      "properties": {
        "enabled": {
          "type": "object",
          "title": "Enabled Filters",
          "description": "Which filter types are enabled",
          "properties": {
            "status": {
              "type": "boolean",
              "title": "Status Filters",
              "default": true
            },
            "category": {
              "type": "boolean",
              "title": "Category Filters",
              "default": true
            },
            "time": {
              "type": "boolean",
              "title": "Time Filters",
              "default": true
            },
            "custom": {
              "type": "boolean",
              "title": "Custom Filters",
              "default": false
            }
          }
        },
        "groups": {
          "type": "object",
          "title": "Filter Groups",
          "description": "Group filters into primary (always visible) and secondary (collapsible)",
          "properties": {
            "primary": {
              "type": "array",
              "title": "Primary Filters",
              "description": "Always visible filters",
              "items": {"type": "string"},
              "default": ["status:*"]
            },
            "secondary": {
              "type": "array",
              "title": "Secondary Filters",
              "description": "Collapsible filters",
              "items": {"type": "string"},
              "default": ["category:*", "time:*"]
            }
          }
        },
        "behavior": {
          "type": "object",
          "title": "Filter Behavior",
          "properties": {
            "multiSelect": {
              "type": "boolean",
              "title": "Multi-Select",
              "default": true
            },
            "collapsible": {
              "type": "boolean",
              "title": "Collapsible",
              "default": true
            },
            "persistent": {
              "type": "boolean",
              "title": "Persistent",
              "description": "Remember filter state in localStorage",
              "default": true
            },
            "showClearAll": {
              "type": "boolean",
              "title": "Show Clear All",
              "default": true
            }
          }
        },
        "order": {
          "type": "array",
          "title": "Filter Order",
          "items": {"type": "string"},
          "default": ["status", "category", "time"]
        }
      }
    },
    "forms": {
      "type": "object",
      "title": "Form Settings",
      "properties": {
        "autoTriggerGeolocation": {
          "type": "boolean",
          "title": "Auto-trigger Geolocation",
          "description": "Request location when form opens",
          "default": true
        },
        "allowParentCategorySelection": {
          "type": "boolean",
          "title": "Allow Parent Category Selection",
          "description": "Let users select parent categories",
          "default": false
        },
        "pickOnMapButton": {
          "type": "boolean",
          "title": "Pick on Map Button",
          "description": "Show 'Pick on map' button in location field",
          "default": true
        }
      }
    },
    "privacy": {
      "type": "object",
      "title": "Privacy Settings",
      "properties": {
        "enabled": {
          "type": "boolean",
          "title": "Show Privacy Notice",
          "default": true
        },
        "modal": {
          "type": "boolean",
          "title": "Use Modal",
          "description": "Show privacy text in modal instead of external link",
          "default": true
        },
        "nodeId": {
          "type": "integer",
          "title": "Privacy Page Node ID",
          "description": "Drupal node ID containing privacy text"
        }
      }
    },
    "i18n": {
      "type": "object",
      "title": "Translation Overrides",
      "description": "Override specific translation keys per locale",
      "properties": {
        "overrides": {
          "type": "object",
          "title": "Overrides by Locale",
          "description": "Example: {\"de\": {\"form.submit\": \"Meldung absenden\"}}",
          "properties": {},
          "additionalProperties": {
            "type": "object",
            "properties": {},
            "additionalProperties": {"type": "string"}
          }
        }
      }
    },
    "systemNotice": {
      "type": "object",
      "title": "System Notice Banner",
      "description": "Show a persistent banner on non-production environments",
      "properties": {
        "message": {
          "type": "string",
          "title": "Message",
          "description": "Banner text shown to users",
          "maxLength": 200,
          "examples": ["Testsystem: Meldungen werden hier nicht bearbeitet."]
        },
        "color": {
          "type": "string",
          "title": "Color",
          "description": "Banner color theme",
          "enum": ["primary", "secondary", "success", "info", "warning", "error", "neutral"],
          "default": "neutral"
        }
      }
    }
  },
  "additionalProperties": true
}
